中文信息学报第卷第期年月文章编号基于分层输出神经网络的汉语语义角色标注王臻常宝宝穗志方北京大学计算语言学教育部重点实验室北京北京大学计算语言学研究所北京摘要语义角色标注是自然语言处理中的一项重要任务当下针对中文语义角色标注的主流做法是通过基于特征的统计机器学习实现的然而统计机器学习的方法需要引入经验性的人工特征这在一定程度上增加了工作量深度学习在自然语言处理领域的应用使得特征的自动学习成为可能文章尝试了一种适用于语义角色标注的深层神经网络架构该模型能自然地推广到其他标注任务实验表明深度学习算法能够有效地用于语义角色标注任务但是我们仍然发现模型对语义层面知识的学习是相当有限的基于深度学习的方法还不能取代基于人工特征的统计机器学习算法关键词语义角色标注深度学习特征向量中图分类号文献标识码层语义分析浅层语义分析是深层语义分析的一种引言简化它只标注与句子中谓词有关的成分的语义角色如施事受事时间和地点等语义分析就是根据句子的句法结构和句中每个语义角色标注是浅层语义分析的一种实现方实词的词义推导出能够反映句子意义的某种形式式该方法并不对整个句子进行详细的语义分析化表示对句子进行正确的语义分析一直是从事而只是根据特定的谓词去标注句子中的一些语义角自然语言处理的人们追求的目标随着自然语言处色论元这些语义角色本身被赋予一定的语义理基础技术如中文分词词性标注句法分析机含义器学习等的逐步成熟以及语义分析在问答系统信目前大多数的语义角色标注任务基于的语料资息抽取机器翻译等领域的广泛应用这一方向越来源是提供完整句法树的宾州树库以及完成人工语义角色标注的两者都有英越受到人们的重视目前深层语义分析很难做到人们更关注于浅文版和中文版本文的工作是在上述的中文语料环境下完成的收稿日期定稿日期基金项目国家重点基础研究发展计划国家自然科学基金期王臻等基于分层输出神经网络的汉语语义角色标注前人的工作大多需要产生完整的句法分析树作方法进行了改进加入了几种新的路径特征以及扩为预处理例如再通过大了语义组块使得总的值达到了这在树中抽取出很多人工设定的特征结合传统的统也是迄今为止获知的在中文语义角色标注上最好的计机器学习算法对语义角色进行分类标注也有使性能结果用浅层句法分析的例如但是实验效果同样依赖于很多人工特征的使用上述所有方法的特点是使用了很多人工设定的特征这有赖于对特征工程的研究是比较费时费力近些年来随着深度学习的兴起人们越来越关的在英文中的工作打破了这一传统注对特征表示的自动学习即把特征的学习任务交文章使用深度学习框架自动学习特征的向量表示由机器经过计算得到而不是由领域专家事先人工使得与任务相关的信息更容易被捕获避免了过多确定这在很大程度上减少了对任务的人为干预也的人为介入实验结果也是达到了之多比较大大减轻了人们的工作量的工作正是接近英文语义角色标注的最好水平在这种环境下完成的他使用深度神经网络的框架本文受上述英文工作的启发尝试使用深度学完成语义角色标注摆脱了传统上对人工设定特征习方法进行中文语义角色标注通过自动特征学习的依赖但是原文工作是在英文环境下完成的同样避免了繁复的人工特征设定在中文环境下获得了的方法是否适合于中文环境迄今为止还没有过完整不错的实验效果论述本文尝试使用深度神经网络实现中文语义角色基于分层输出的神经网络框架标注章节安排具体如下第节介绍了语义角色标注的相关工作第节介绍了基于深度学习的语中文语义角色标注可以视为对输入句子中的每义角色标注网络框架第节介绍了深层学习网络个词指定一个标签传统机器学习方法的性能很大的训练方式第节为实验结果及分析最后对本文程度上受制于所选的特征正是由于这个原因对该工作进行总结并指出将来工作的方向问题的研究很多都偏向于特征工程而这些工作需要大量的人工介入费时费力相关工作为了使得语义角色标注脱离特征选择的繁复工作本文使用了深度神经网络的方法该神经网络中文语义角色标注起步较晚早期的工作侧重以每个待标注的句子作为输入在多层隐层中获取于使用在英文语义角色标注中取得成效的方法比输入的抽象表示最后通过输出层得到可能性最高如使用得到完整的标签序列完成整个标注工作网络的框架如的句法树后移植了大部分在英文工作中用到的特图所示层提取出每个词的特征向征继而使用算法但受制于当时的语料规量固定窗口内的特征向量进行拼接作为下方神经模其实验结果与后续工作并没有可比性网络的输入对于最后的结果我们可以使用在大规模语料算法进行解码得到最后的标注序列建成之后在工作中加入了一些有助本次工作对模型的主要改进集中于对网络输出于性能提升的特征并对中文语义角色标注做了系层的改进传统的深度学习方法使用的都是单层输统性的研究侧重于语义角色分类采用层次结构将这一过程分为三个子任务出层进行分类标记一文正是这样做的把直推式算法运用到中文语义角色然而语义角色标注不同于一般的标注问题因为它有牵扯到非语义角色和语义角色语义角色细分又标注工作中上述工作中无一例外地使用了语句的可以分为多种不同的语义角色标记通过上面的分完整句法结构信息这些信息对语义角色边界的识析我们可以构造两个层次对语义角色标注问题加别以及分类都是很有用的所以语义角色标注的效以描述角色识别和角色分类由此引入了两个网果受制于自动句法分析器的性能络输出层一层用来进行角色识别一层用来表示角引入浅层句法分析处理语义角色标注避免了使用色分类两层结合以给出输入语句的标注序列这也自动句法分析器所带来的性能损失在语义组块一是本文工作的重心我们在节中会重点对这一级进行语义角色识别和分类标注部分进行解释说明对这一中文信息学报年图语义角色标注示例并力求达到好的标注效果分层输出结构针对序列标注问题构造神经网络传统上的做法是将网络的输出层表示为单层结构将所有的标记一起进行考虑对于语图网络框架义角色标注问题而言即将各类语义角色与非语义角色中文语义角色标注合并考虑最后的输出层有语义角色标注是浅层语义分析的一种实现方语义角色个数个节点式该方法并不对整个句子进行详细的语义分析分别表示每一类标注的得而只是根据特定的谓词去标注句子中的一些语义角分这样的结构如图所示色论元这些语义角色本身被赋予一定的语义图传统输出层这种方法对于处理某些简单问题是比较合适的将输出表示为单层网络也意味着所有的标记之含义目前大多数的语义角色标注任务基于的语料资间是平等的关系然而对于中文语义角色标注问源是提供完整句法树的宾州树库以及完成人工题来说将所有标记同等考虑是不恰当的因为非语语义角色标注的在义角色和各类语义角色是两个层级的概念如果顺中核心的语义角色有共六种序考察这一任务我们先得确定一个词语是语义角前缀表示非核心论元角色后面跟一些附加色然后再对它是什么语义角色进行判断而单层神标记表示具体的语义类别如表示地点表示时间等经网络是不能捕捉到这样的两层语义关系的基于上面的原因对图对一个标注实例具体进行说明民众已于本次工作塑造的神经经充分掌握事情真相其中掌握为谓词用网络的输出层我们采用表示民众为施事用表示事情真相为受事用表示已经和充分分别表示发图的结构表示网络输生的时间和程度用和出针对最后一层隐藏图改进输出层层通过两个不同的线性表示下面的语法树分析了句子的结构并标记出变换得到两个不同的输出层其中一个输出层有两了关于谓词的各个语义角色个节点表示这个词是语义角色或是非语义角色的所以对于在标注体得分另一个输出层为本文涉及的语义角色系下进行的语义角色标注任务我们的目标是给定总数个节点表示这个词是每种语义角色的得分一个输入语句和相关谓词使得系统能够自动地为这两个部分是独立存在的也就是说两者的线性变每个词语标注语义角色如上例中的换之间没有严格的关联不过在训练中需要将两层期王臻等基于分层输出神经网络的汉语语义角色标注的输出合并进行考虑这在第部分会有详细的说明其中表示待标注语句的长度表示第一层隐层的节点个数本文的做法很好地模拟了中文语义角色标注实施过程中的两个步骤将角色识别和角色分类分开进行考虑我们也在实验结果中发现这种分层输出的方法比传统处理序列标注任务的单层输出效果深层网络结构后续的神经网络计算使用如下公式进行线性变换要好这也证明了我们设计神经网络的合理性其中提取中文特征向量表示层到层的权值矩阵表示层到层的阈值向量本文工作中使用的特征是词词到标注词的距离词到特定谓词的距离针对这三个特征分别维护了从中可以得到每个特征的向量表示假设特征的集合是则特征的向量表示存储在一个矩阵之中是特征向量的维数是特征集合的大小下面我们以词特征为例具体阐述这个过程假设给定了一个中文句子每个词设为对于每个有它在中的索引用表示只在第位为其余位皆为的维向量则关于可以得到它的特征向量值得说明的是如果一个词没有出现在的集合内可以将其标记为将加入到集合中作为所有未出现的词特征这也意味着它们将共享同一特征向量工作中隐层使用的激活函数是其定义如下所示烄烅烆标注策略虽然我们的工作目标是给每个词进行或是的标记但是单纯使用这样的标记我们并不能得到语义角色的边界信息因为每个语义角色的开头和结尾都应该是有据可循的单纯使用语义角色的标注显然会忽略掉这一点所以针对上面情况的分析我们在实验中采用的标注策略表示一个语义角色的内层部分表示语义角色的开始部分表示语义角色的结尾表示单个词窗口向量拼接形成的语义角色表示不属于语义角色的部分工作中引入窗口的概念对每个词特定窗口内所有词的特征向量进行拼接作为该词的最终的特征向量输入下层神经网络如此每个词在网络中不再是孤立的存在语义上的相关性在某种程度上可以通过这个方式捕捉到具体地如果每个词通过第一步得到的特征向量是那么经过窗口拼接的特征向量就被转化为其中表示窗口的大小而在预测阶段我们会将该标注策略转换为仅表示语义角色的标注结果基于词标签的网络训练方式本次工作采用了基于词标签的训练方式对深层学习网络进行训练具体地我们是通过最大化似然函数进行参数求解的随机梯度下降能够很好地运用在问题的求解中用表示网络中的所有参数表示一个特定的待标记的词表示对应的正确标记实际上我们试图最大化的是下面这个式子卷积变换因为每个句子的长度都是不确定的所以在网其中是所有的训练数据络中引入一个卷积变换层对输入特征向量进行归一在这种训练方法中我们单独考虑句子中每个化变换具体地设变换矩阵为卷积变换之后词的标签对于每个词网络的第一个输出层输的输出为出其中为或分别表示是语义角色和非语义角色的得分运用操作进行中文信息学报年归一化我们可以得到当前词是语义角色或是非标记词距离这两个特征我们都是使用随机初始化语义角色的概率的方式对它们的特征向量进行初始化因为对于它们而言我们没有很多先验知识去得到有意义的特征向量对于词特征我们当然也可以通过随机初始网络的第二个输出层输出其中化的方式对它进行赋值这样造成的代价是网络的为对应的每一种语义角色类型分别表示是每种训练时间会更长由于目前大规模中文语料的存语义角色的得分运用操作进行归一化我在对词向量的初始化我们有了更好的选择是的一个基于上下文共现信们可以得到当前词是每种语义角色的概率我们通过简单的概率公式可以计算得到属息学习词向量的一个实用的工具借助它在语料上学习得到的词向量我们可以对网络中用到的词的特征表示进行有意义的初始化因为实验表明该工具生成的词向量在一定程度上是能够把握词语于每种类别的概率表示非语义角色烄烅表示某种语义角色烆之后再运用上面提到的最大似然方法进行训练就可以得到整个网络模型的各个参数之间的语义信息的使用这种词的特征表示也使得网络的训练时间大幅度降低实验结果上文提到我们在标记时使用的是的标注策略该标注策略实际上给标注结果添加了一种可能性限制比如说对于之后只能出现实验实验设置或是其余的标注结果都是非法的对于其后仅有和合法我们可以对每种情况进行列举得出关于标记序列的一些限制使用这些限制我们才能得到合法的我们采用中文的数据集同标记序列前人的工作一样使用中的具体地我们在预测阶段可以得到每个词关于分块作为训练数据第分块作为开发集数据第所有标记的得分在标注体系之下我们再块用于测试集本次实验用到的语义角色有以及其余的十三种修饰角色如根据上述提到的限制生成一个限制矩阵表修饰地点修饰时间等表示从标记到标记的可能性我们这里对其赋超参数设置值表示可能的转移赋值表示不可能的转移对于深层网络中超参数的选择我们使用经验示在标注体系下的标记个数矩阵元素基于上述得分以及转移矩阵我们可以使用算法进行解码得到最大值的序列就是我们在预测知识和前人工作进行判断对中给定的标记序列上述的赋值保证了该标记序列深层网络常用的参数设置给出了经验上的指导本的合法性之后再对标记序列进行转化文的工作受上文和之前工作的启发对网络架构中的超参数进行了人为设定工作中训练网络的学习率设为窗口拼接时的窗口大小设为词表大小设置为使用最频繁出现的前个词特征向量的长度变为仅使用语义角色的序列使用此序列与标准答案进行比较得到我们关心的准确率召回率和值表给出了本文工作得到的实验结果其中的表实验结果分别为两层隐藏层的节点数目分别是和词向量初始化对于待标记词到给定谓词距离以及当前词到待期王臻等基于分层输出神经网络的汉语语义角色标注是仅使用一层输出层进行标记的结果我们可以看到本文工作对输出层的改进使得实验结果总结有了明显的提升通过表我们可以发现改进的框架模型不管本文尝试使用深层神经网络模型进行中文语义是在准确率还是召回率上相对于单层输出的模型角色标注的探索首次将角色识别和角色分类两个都有比较明显的提升而对于值改进后的框架步骤以网络层的形式引入深度学习模型在测试语在原有的基础上提升了之多这也证明了我们料上的实验结果表明该方法在一定程度上可以对分离角色识别和角色分类的改进是有效的语义角色进行标注引入的两层输出模型性能上也虽然如此我们不得不承认该实验结果离目前超越了单层输出的模型该方法有效地规避了人工基于传统机器学习方法的中文语义角色标注的最好设定特征的步骤一定程度上减少了工作量同时也水平还有一段距离这也是需要我们进行总结和反对词向量产生了不错的补充与改进然而我们不思的地方能忽略的是本文对中文语义角色标注任务的处理效果并不理想与主流方法的差距还是比较明显的词向量下一步我们将参考前人工作试图在网络中引本次实验的另一个发现是经过深层学习网络入人工设计的语义特征信息并适当扩充网络的规的训练我们得到了更好的词向量表示以中国为模和复杂性尝试从更深层次的语义层面入手挖掘例表列出了分别在训练前后与中国一词最近的出更多的语义信息帮助进行中文语义角色标注任十个词语务从而提升整个工作的性能表词语相关度训练前训练后作为新加坡亚洲日本国家印度尼西亚乃至菲律宾界印度全球马来西亚来自朝鲜世界陆本土泰国东亚印尼通过表我们可以发现经过针对语义角色标注的深层神经网络的训练我们得到的词向量能更好地反映出词语的语义关联表中训练前得到的参考文献结果还比较杂乱无章虽然大多表示的都是地点但是都无法与中国保持在一个层级之上而在训练之后这一现象有了很大的改观得到的词语基本都是国家名称这是一个很大的改进说明了我们的网络在得到词向量方面具备很强的能力这虽然不是本次工作的重心但是对以后的工作方向也是很有启发的下转第页中文信息学报年黄沛杰博士副教授主要研究领域为黄强本科生主要研究领域为自然语言人工智能自然语言处理口语对话系统处理吴秀鹏本科生主要研究领域为自然语言处理櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚上接第页王臻通讯作者硕士研究生主要研究常宝宝副教授主要研究领域为自然语领域为自然语言处理言处理穗志方教授主要研究领域为自然语言处理