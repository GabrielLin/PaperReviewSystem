第卷第期年月中文信息学报文章编号基于属性主题分割的评论短文本词向量构建优化算法李志宇梁循周小平中国人民大学信息学院北京摘要从词向量的训练模式入手研究了基于语料语句分割算法分隔符分割算法以及属性主题分割算法三种分割情况下的词向量训练结果的优劣研究发现由于评论短文本的自身特征传统的无分割训练方法在词向量训练结果的准确率和相似度等方面与算法算法以及算法具有明显的差异通过对亿条评论短文本进行词向量构建实验对比后发现该文所提出的算法在同义词属性词测试任务上获得的结果是最佳的因此算法对于优化评论短文本词向量的训练评论短文本属性词的抽取以及情感倾向分析等在内的以词向量为基础的应用研究工作具有较为重要的实践意义同时该文在超大规模评论语料集上构建的词向量开源对于其他商品评论文本分析的应用任务具有较好可用性关键词在线评论短文本词向量相似度计算中图分类号文献标识码语言模型基础即统计语言模型引言相对于常规语料而言如书籍新闻论文维基百科等语料评论短文本的语言学规范非常弱省随着社会化商务的发展在线评论已经成为了消费者进行网络购物的重要参考决策因素之一略转义缩写等现象非常普遍如果利用传统的训练或者学习方法对评论短文本进行处理效果并不同时也成为了包括计算机科学管理科学以及情报理想但从某种角度上来讲评论短文本的在文法分析等领域研究者在内的重要研究对象之一通常上的不规范恰恰是另外一种形式的规范即评论短而言在线评论包括微博评论商品评论点评评论文本自身特征的规范由于评论短文本应用的普等评论类型这里我们统称为评论短文本以往遍性因此没有必要非要将评论短文本规约到常规关于评论短文本的应用研究主要集中在包括评论效的语料形式上进行处理反之应该在最大限度上保用分析虚假评论识别以及评论观点归纳等方面然而这些应用研究往往都基于一个重要的留评论短文本的语料特征对于评论短文本的相关建模主要是从两个角度收稿日期定稿日期基金项目国家自然科学基金京东商城电子商务研究项目北京市自然科学基金中国人民大学品牌计划中国人民大学年度拔尖创新人才培育资助计划成果中文信息学报年出发第一利用点互信息信息增益等型训练的精度研究包括基于整句分割模式的预处对评论短文本进行建模从而分析评论之间的相似理模式基于分隔符分割的预处理模式以及基于属度或评论的情感倾向等第二通过构建词向量词性主题分割的预处理模式对于训练模型的影响在袋法将评论文本词语数值化但这类建模方式后面小节中我们将详细阐述这些方案并重点论述往往需要依赖于情感词典属性词典等人工构造的基于属性主题分割模式的预处理算法相关词典具有较强的领域性同时可扩展性较差随着自然处理技术的发展神经网络逐步被引相关研究工作与研究背景入到相关的文本处理技术中年谷歌研究团队的开源的词向量构建工具引起了词向量应用研究热潮被称为年最为重要的自然语言处理工具之一随后作为词向量的转换工具被用于包括短文本情感分析以及短文本相似度计算等相关自然语言处理任务虽然的应用范围广泛但是研究者用其建模时往往直接按照的模型配置将每一条短文本语料可能包含若干短句或长句作为一个整体行进行输入通常在的参数形式里面只考虑到了输入向量的维度训练方法以及语料大小对模型造成的影响却并没有考虑语料的输入形式对模型训练结果造成的影响我们研究发现不同的评论短文本输入形式会对的词向量训练结果造成明显的差异因此评论短文本的情感分析与属性提取短文本是指那些长度较短的文本形式通常情况下短文本的字符长度不超过微博短文本手机信息短文本在线例如评论短文本回复转帖短文本等由于短文本具有字数少信息聚合度高以及文本语言不规范等特征使得针对短文本的分析与研究产生了较大的困难其中具有代表性的则是针对微博短文本和评论短文本的研究下面将主要对评论短文本的相关研究进行综述随着电子商务的高速发展以及淘宝京东大众点评等各类含有评论短文本网站的兴起评论短文本已经成为消费者在做出购买决策之前的重要参考有必要在进行词向量训练前考虑输入语依据目前关于评论短文本的研究主要集中在料本身的特征对语料进行预处理后用以提升词向评论短文本的效用分析评论短文本的真实性分析量的训练结果评论短文本的决策影响分析等但这些研究内容都根据前文的阐述对于训练的预处理需要优化的问题是对于给定的大规模评论短文会涉及两个主题即评论短文本的情感分析与评论短文本的属性抽取评论情感分析主要是对评论的情感倾向进行分本语料库语料库总评论数目为如何在可接受时间内训练得到一个较为精析包含三个层次评论对象的属性层次评论对象准的词向量模型其目标为对于给定的词查询的层次以及评论篇章层次其主要采用的方法是将返回与其最相似的前个结果其中的同义属性词个数为那么对于查询的文本简化为的形式然后借助词向量准确度为为了获得对于给定测试集测试集词条中等情感词典对于评论短文本的情感分析起到了重要的作用例如利用中词数为的较高准确度有以下三种基本途径汇之间的相互关系距离语义联系等来判断词语情感词典对评论短文本的情感倾向进行分析其通过对词向量的训练算法中的训练层进行的情感倾向但这也带来一个重要问题即改进采用不同的训练模型或者不同类型的神经网按照同义词集合组织信息而同义词语不一定络来获得更为精准的词向量模型具有相同的褒贬倾向这将导致对词语情感倾向的通过在训练算法的输入层对语料进行预处理提高算法训练的准确率和召回率通过对词向量的输出层进行后处理提升应用接口的准确度本文中我们将集中讨论如何通过第二种方式即在输入层如何对语料进行预处理来提升词向量模估计出现偏差换句话说目前评论短文本情感分析存在的主要问题是如何针对评论短文本的特征构建情感词之间的数值联系即词向量的问题评论的属性抽取是评论短文本分析的另外一个重要的研究内容即如何判断和抽取评论中涉及到的商品属性或称对象属性的相互关系例如衣服李志宇等基于属性主题分割的评论短文本词向量构建优化算法期手感不错和衣服摸起来不错中词语手感和法信息通过的研究发现通过向量摸起来都是同样表达评论者对评价对象衣服的间的相互计算可以进一步拓展或表达出相应的语质量属性或者感官的判断因此需要在对评论短文义和语法特征本进行分析时能够成功地发现和评价这类属性的相互关系评论短文本属性的抽取对于评论属性情感分析和评论总结都具有重要的作用词向量是实现后的关键产物在的工作之后出现了一系列关于词向量的实现与构建的相关工作包括总而言之评论短文本的分析需要依赖于对评的等其中于年论短文本的形式化数学化建模通常而言需要在开源的作为重要的词向量训练工具在原有文本分析技术的基础上结合短文本的自身特情感分析属性抽取等领域取得了一系列的应用成征进行改进设计出有效的短文本语言模型的建模果同时词向量训练的好坏对于提升应用方法以提高应用的效率和准确率成果的性能具有重要的意义但通常情况下即使词向量和采用相同的工具不同类型或大小的语语言模型是自然语言处理料库以及不同的向量维度都会对词向量的训练结果好坏造成影响领域的一个重要的基础问题之因此本文主要从探讨训练词向量一它在句法分析词性标注信息检索以及机器翻的优化方式入手重点研究了不同的中文语料的预译等子领域的相关任务中都有重要的作用在传统处理策略对于词向量训练结果的优化程度特别的语言模型中统计语言模型具有非常广泛的应用其是对中文评论短文本这一类重要的自然语言处核心思想是利用概率来对语言形式进行预测理语料本文主要贡献在于首先我们提出基于通常而言统计语言模型都基于相应的领域语料来属性主题分割的短文本评论语料预处理算法对比进行分析工作一般的用以简化统计语言模型的实验结果表明该算法对于改善词向量的训练结果相关方法包括模型马尔科夫模型条件具有明显的提升效果其次我们获取了亿条评随机场模型决策树模型等随着深度学习相关研究的逐步深入神经网络的应用领域逐渐由图像音频等扩展到了自然语言处理领域即神经网络语言模型可以看作传统统计语言模型的扩展与提升并于近年在等相关顶级会议上取得系列进展于具有代表意义的系统研究由年在一文中提出在该模型中作者将每一个词汇表示为一个固定维度的浮点向量即词向量然而中的词向量记为和传统统计语言模型中的论短文本数据通过词向量模型的训练并优化后得到了具备较高精度的词向量库开源该词向量对于其他与在线商品评论相关的例如评论情感分析评论属性抽取等自然语言处理任务具有重要的参考意义最后我们给其他领域关于词向量的训练优化研究提供了一定的参考思路即针对特定的处理语料设计相关的预处理策略或许能够显著提升词向量的训练效果拆分词嵌入的评论短文本分割模式基于完整句的分割模式完整句子是指以句号感叹号省略号问号以有着本质上的差异主要体现在以下三点中的向量元素采用表示词向量及分号分割后组成的句子形式通常情况下中所有的分量只有一个数值为其余分量全部为我们认为一个句子的结束是一种观点态度和说明而的分量由浮点数构成其取值为连续值的向量维数不固定通常根据词典的内容的结束对于评论短文本而言一条评论通常大小而发生改变并且一般较为庞大容易造成维数的观点既有可能相似也有可能不同换句话说这而的维度通常根据具体的应用固定些句子之间既有可能存在逻辑之间的联系性也有灾难在左右具有可接受的时间复杂度的词向量元素并不包含统计语义或语包含几个带有完整句分隔符的句子这些句子表达可能是相互独立的因此当这些句子在语法上或观点上是相互独立甚至截然相反时如果将这些句中文信息学报年子作为一个整体输入用以词向量的训练将会给训练模型带来较大的误差基于完整句的分割模式是指利用以句号感叹号省略号问号以及分号作为完整句的指示分割符对一条评论中的句子进行拆分同时考虑到评论文本的统计信息表当不含完整句分隔符的图评论短文本案例截图评论语句的连续字符长度达到时我们将进行人工截断自动将该句划分为一个整句基于分隔符的分割模式相比于传统的文本语料评论短文本在句点符如图所示对于评论宝贝做工不错物流速度马马虎虎客服态度很好而言这是一种典型的评论短文本的出现方式即观点句观点句观点句但观点句之间很有可能存在修饰词不兼容即观点句的修饰词不能用于观点句号的使用上更加的随意内容上也更加丰富和自由的情况以及观点句情感极性相反的情况如果采包括含有各种表情符号缩写拼写错误以及不规范用前文所述的分割方式由于消费者撰写评的断句符等如图所示该图为淘宝商城某商论时使用符号的不规范极有可能造成不同的意品评论页面的截图可以看到对于评论短文本义类型和观点的语句被分割到同一个训练语句而言其观点句通常在一个分隔符之内进行表达中从而增大模型训练的误差因此这也就是我并且长度更短同时在语法规范上也表现得尤们在实验对照中使用第二种分割方法即分隔符为不足分割法图基于分隔符分割模式与原始非分割方法的对比例图基于分隔符分割的策略目的是将这些观点句利用分隔符进行拆分通常而言评论短文本中的分隔符包括空格基于属性主题的分割模式在研究中我们发现虽然基于分割能够将以及常见表情符号等同时如果以上符号在评论含有不同修饰符和不同属性观点的评论语句进行分短文本中存在西文格式将同样认为是评论文本分割以保证训练算法在这类评论上的稳定性但隔符分割法却无法对评论中存在相互联系的甚至是同类的评论语句进行合并因此在的基础上我们提出了基于属性主题的分割算法李志宇等基于属性主题分割的评论短文本词向量构建优化算法期如图所示算法在的基础上考虑词向量模型然后利用该初始词向量模型对分了一条评论中被分隔符分割的评论句子之间的在割进行重构合并属性主题相关的句子在保证不同主题上的相互联系采用对评论文本进行预类型观点句得到有效分割的同时保证了同类型观处理后利用词向量训练算法进行训练得到初始的点句的关联性具体算法流程如算法所示图基于属性主题的词嵌入分割模型算法的核心思想首先通过分隔符对评论进果候选短句不包含名词则用形容词替代最后接行整体拆分然后利用训练得到的词向量来计着使用类似层次聚类的方式对最短候选句进行逐算相邻的每个最短分割候选句之间的属性相关度项合并直至满足退出要求然后返回分割结果进行其中一条最短分割候选句的属性特征由短句中的模型的词向量训练名词词向量或者数个名词词向量的均值替代如算法基于属性主题切割的词嵌入训练算法输入基于分隔符切割训练的词向量结果为词语为该词语对应的词向量已经经过预处理的评论语料库对于每一条已处理评论由个分隔句组成对于每个分隔句由个词语组成输出基于属性主题切割训练的词向量结果查询该词对应模型中对应的向量初始化分割结果词向量临查询结果列表始化指针将查询得到的词对应的分隔句存入结果列表中文信息学报年只要已被处理的分隔句矩阵中存在任一两行的属性主题相似性的概率大于同时剩下有待被合并的行数大于组则合并计算继续进行计算每一行所有名词向量的均值向量作为该分隔句的属性特征向量利用余弦相似度依次计算相邻行分隔句之间的相似度获得可能的合并概率合并相似的属性主题的特征向量合并相似属性主题的分隔句将分隔完成的主题相似性句子传入词向量训练模型返回训练结果续表实验数据数据描述本文的实验数据集来自天猫商城的评论短文本数据主要字段包括商品评论者昵称初次评论内容初次评论时间追加评论内容追加评论时数据类型基本统计信息追加评论平均字数字数输入范围商家回复平均字数字数输入范围消费者平均信誉值信誉取值范围说明间评论相对位置评论者信誉评论商品评论商家以及商家回复其中文本内容包括消费者的初次评论数据追加评论数据以及商家的回复数据三个部分总计评论数目为条约主要涉及领域包含服装食品美妆母婴数码箱包家电运户共计八大领域的个子领域数据集的相关基本统计信息如表所示表数据集基本信息数据类型初次评论平均字数基本统计信息说明数据清洗由于数据量巨大因此数据清洗是本次实验的重要工作之一本次实验过程中为了提高数据的读取和操作性能我们将评论数据存储在当前流行的非结构化数据库之一的中其性能为普通数据库性能的十倍以上大大地缩短了实验的时间消耗其中数据清洗的核心步骤包括重字数输入范围复评论无关评论的删除分词停用词的删除以及繁简体的合并操作李志宇等基于属性主题分割的评论短文本词向量构建优化算法期图数据清洗流程图实验与分析性能评估标准测试集为了能够有效的测试三类预处理优化训练方案与原始语料非优化训练方案之间的差异需要构特例如果查询词在模型中不存在那么对于查询对而言其在模型中的相似度为则对于测试集模型的平均相似度指标如式所示建标准的同义类词测试集对四种不同类型的训练结果进行评价具体的构建步骤为选取待测试词组个即查询每个词在每类已经训练好模型上的前个相似词组成评价指标平均召回率标准测试词对集测试词查询得到的备选词进行筛选得出所有查询词在模型中的前个最相似结果为的测试词的同义类词组构成那么对于查询词模型的召回率如式所示标准测试词对集其中对不同的查询词其值可能不同则对于测试集模型的平均召回率指标如式所示个备选词组首先删除重复词汇然后人工对评价指标在信息检索模式识别机器翻译等领域有两类最为常用的算法评价指标即准确率说明做出如下假设评价指标平均相似度对于标准测试词对中的查询词用其相似词构建评价词对为那么对于一个标准查询词对其在和召回率本文将参考准确率和召回率的评价方式构建模型的评价指标为便于结果分析为了验证和对比实验结果本文的实验基于操作系统内存处理器四核八线程存储系统并采用语言进行实现由于的基础模型包含以及两类因此本文所有对比实验同时在这两种类型的模型中的向量组为的相似度指标如基础模型上进行具体的原始训练模型介绍可以参式所示见的源码及其相关论文此处不再详述中文信息学报年最后本实验针对不同的词向量的维度从以及模型上的时间效率表现存在相互交叉之间逐渐递增选取增加纵向对比实验的情况因此并没有表现出明显的差异考虑到无时间效率对比分析论是模型模型模处理时间对于不同大小的词向量维度的敏感度较型还是模型的单机训练时间均在小时之间因此其实际意义上的时间开销已大随着词向量维度的增加以及经是亿条评论大数据均在可接受的范围内所模型的时间消耗增长幅度均大于模型以并没有必要在时间效率上对上述模型进行不同的的增长幅度而模型与模型在区分和优劣对比如图所示通过对比发现模型的图算法与原始训练算法基于不同词向量维度的时间效率对比评价指标对比分析平均召回率此可以看出语料预处理策略对于提升训练结果的召回率具有显著效果同时如表所示以直线下划线作为该模型的最好我们可以发现由于短评论语料通常字符数较小并成绩对比模型与模型在和且断句符存在大量的不规范使用情况因此从远模型到模型的提升效果不如模型到模型的提升效果实验上的平均召回率分别提升了最大召回率和其中以及到的提升效果分别小于的最小召回率由表模型实验结果对比李志宇等基于属性主题分割的评论短文本词向量构建优化算法期平均相似度由于不同的向量维度数会导致向量的分散程度预处理模型来说模型的提升程度却并不不同一般的向量维数越大在总词语数目固定的任选或者模型作为评论语料的预处理情况下同义属性词间的分散程度越大相似度越策略小纵向因此平均相似度只能作为词向量训练好查询样例对比分析十分明显因此如果在不考虑召回率的情况下可以为了能够对原始模型和优化后模型坏的一个相对参照指标即作横向对比以表中波浪下划线标注的维度上的结果为例对于召产生的词向量的结果产生一个具体的认识和对比回相同的词语其相似度越高表示同义词属性词我们选取了两个具有代表性的词汇属性之间的稳定性越高因此在不同的环境下其应用的词以及差评形容词观点词查询了它们在可拓展性也就越高从表中可以看到无论是对词向量维以及词向量维中的于模型还是模型在不同词向量前个最相似的结果如表和表所示维度上模型的稳定性都是最高的但相对于表查询词在模型和模型上的对比结果圆通优速速递中通汽运平邮圆通中国邮政邮政慢递圆通快递申通汇通宅急送优速顺风邮局顺风中通宅急送中铁申通宅急送想接顺丰速递中通顺丰顺风国通顺丰同城邮政物流韵达国通邮政快运圆通韵达邮局邮政慢到邮局全峰申通快运送货员全峰压货平邮速递宅急送中国邮政速递快运顺丰顺丰速运快第顺风慢递韵达陆运快弟韵达陆运表查询词差评在模型和模型上的对比结果真想添堵差平心甘情愿中评你们中评全分中评故意低分坏评老子这种坏评说法忍无可忍别找我高分差品极度换算好评退货恶意无心全一星不错找麻烦因此差平退钱愤怒要挟认栽恶评你添堵二分认栽坚决认栽好评星差平上图一星零颗星宝贝你中评天理难容退换货哎最高分麻烦过不去垃圾一星千万不要换认退传说跪没商量抗议两星半星退货差到星分师好评查评零星换吃太甜一颗星零分中文信息学报通过表可以发现模型的预处理策略能够有效的发现属性词的相似词及其变异甚至是错误的拼写词例如模型中的误输入大小写变形等同时可以发现模型的属性词召回率明显高于模型通过表可以发现模型对于同义年词的召回率同样较好而模型中甚至出现了较多将查询词的被修饰词判定为相似词的情况例如真想差评坚决差评等但同时也需要看到对于模型和模型都出现了查询词的反义词被判定为相似词的情况这种误判需要在后续的研究中进一步优化结论词向量训练的优化问题不仅仅需要考虑训练算法的内部结构对于不同类型的训练语料的预处理同样值得思考本文针对评论短文本在词向量训练中存在的问题结合评论短文本的自身特征提出了基于属性主题分割的语料预处理算法基于亿条大规模评论短文本的实验表明算法的预处理策略对于提升词向量模型的训练结果具有显著意义本文针对评论短文本的大规模词向量训练结果对于其他关于包括评论短文本情感分析评论短文本属性特征提取聚类等的应用都具有较大的参考意义参考文献张林钱冠群樊卫国等轻型评论的情感分析研究软件学报周泓刘金岭王新功基于短文本信息流的回顾式话题识别模型中文信息学报郑小平在线评论对网络消费者购买决策影响的实证研究中国人民大学硕士学位论文张紫琼叶强李一军互联网商品评论情感分析研究综述管理科学学报邢永康马少平统计语言模型综述计算机科学张剑峰夏云庆姚建民微博文本处理研究综述中文信息学报杨铭祁巍闫相斌等在线商品评论的效用分析研究管理科学学报陈燕方李志宇基于评论产品属性情感倾向评估的虚假评论识别研究现代图书情报技术任亚峰尹兰姬东鸿基于语言结构和情感极性的虚假评论识别计算机科学与探索下转第页中文信息学报年徐凡朱巧明周国栋基于树核的隐式篇章关系识别软件学报朱珊珊硕士研究生主要研究领域为洪宇通信作者副教授主要研究领域篇章分析为信息抽取信息检索事件关系检测等丁思远硕士研究生主要研究领域为事件关系检测櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚櫚上接第页黄建传汉语标点句统计分析北京语言大学硕士学位论文何玉基于核心词扩展的文本分类华中科技大李志宇博士研究生主要研究领域为学硕士学位论文梁循通信作者博士生导师教授主自然语言处理网络结构嵌入社会网络分析要研究领域为社会计算机器学习周小平博士研究生主要研究领域为社会网络分析网络隐私保护