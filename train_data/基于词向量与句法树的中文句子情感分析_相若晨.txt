计算机与现代化年第期总第期文章编号基于词向量与句法树的中文句子情感分析相若晨孙美凤扬州大学信息工程学院江苏扬州摘要随着互联网的快速发展网络中充斥着海量主观性文本如何对这些主观性语句进行情感倾向性判断是文本情感分析的关键本文提出一种基于词向量和句法树的中文句子情感分析方法针对目前大量网络新词的使用所带来的问题以已有标注的情感词典为基础采用词向量的方法判断词语之间的语义相似度从而得到未知词语的情感极性针对情感极性转移现象定义相应的情感判断规则在此基础上利用句子的句法树结构对句子进行情感倾向性分析实验证明该方法在一定程度上解决了网络新词的问题有效提高了句子情感分析的准确率和召回率且具有领域适用性关键词情感词典词向量句法树情感倾向性分析中图分类号文献标识码引言个分类问题处理文献通过提取文本情感特征采用支持向量机朴素贝叶斯等机器学习的方法构造情感分析又称为观点挖掘旨在分析文本中所蕴含的情感信息判断人们对某事物或事件的观点和态情感分类器进而对待测文本进行分析但这类方法的领域通用性普遍较差且有监督的方法通常需要大规模度随着互联网的飞速发展和大规模普及网络上的信息量每天都以指数级的速度增长通过文本情感分的标注语料人工标注需要耗费大量的时间和精力基于情感词典的方法将句子看成词语的集合根析技术可以对网络中的海量信息进行有效利用应用到网络舆情分析企业市场分析信息预测实现情感据情感词典抽取文本中的情感词由正负情感词的数量判断情感倾向这种方法完全依赖情感词典且没机器人等多个领域情感分析自年由提出之后获得了很大程度的研究目前的研究方法主要集中于基有考虑词序句法和语义信息导致情感分析的准确率较低学者们在此基础上对基于情感词典的方法于情感词典的方法和机器学习的方法机器学习的方法把句子情感倾向性分析当作一不断改进引入句法分析的方法和基于规则的方在很大程度上提高了情感判断的准确率文法献提出了将句法分析与情感词典相结合的分析收稿日期作者简介相若晨女江苏南京人扬州大学信息工程学院硕士研究生研究方向文本情感分析孙美凤女江苏泰州人副教授硕士生导师博士研究方向对等网络应用流量识别计算机与现代年第期化方法利用情感词在句子中的成份情感指数权重以是一个将词表征成实数向量的高效工及与其他情感词之间的组合共现关系计算出综合的情感指数提高了情感分析的正确率并且具有适用具包括模型和模型选用模型作为本文的向量训练模型性文献提出了基于词典和规则集的中文微博情感分析方法在不同的语言层次上定义了规则结很好地解决了元模型受窗口大小限合情感词典对微博文本进行了从词语到句子的多粒度情感计算并且验证了该方法的有效性但这些方法同样依赖于情感词典情感词典的不完善极大地限制的问题它允许跳过一些词窗口内的词都会两两计算概率同时模型中的每个词向量表征了上下文的分布图是模型的示意图制了文本情感分析的性能随着网络词语的流行和使用依靠人工完善和扩充情感词典的方法显然是不可行的基于此本文在情感词典的基础上提出一种基于词向量和句法树的中文句子情感倾向性分析方法首先利用神经网络训练的词向量来判断未知情感词与基准词之间的语义相似度从语料自身挖掘词语之间的语义关系摆脱对外部资源的依赖能够很好地解决新词的情感判断问题在此基础上将句法分析与规则的方法相结合根据句子的句法树结构和规则集由词语的情感倾向性自底向上不断迭代得到整个句子的情感倾向性充分考虑了句子的句法和语法信息提高了句子情感判断的准确性图模型示意图模型采用当前词训练上下文的词向量假设存在一个词组序列的目标是使公式的值最大化基于词向量的词典扩充其中是窗口大小是训练文本的大小基础词典的构建图是本文构建的基础词典正负情感词由提供的情感词语集筛选后得到并在此基础上进行了网络词语的扩充对这些词语的情感极性进行了人工标注程度词由提供的程度级别词筛选后得到词典中还包括个常用否定词和个转折关系词本文利用词向量的距离判断句子中出现的新词的情感倾向性将节中构建的基础词典作为基准词并获取其向量表示根据公式计算句子中出现的新词与基准词的语义相似度其中为基准词的词向量为目标词的词向量未知词语倾向性判断的具体步骤如下获取基准词的向量表示对待测句子进行分词后将句子中每个词语与基础词典进行匹配当出现新词时获取其词向量遍历所有基准词计算目标词与基准词的图基础词典组成基于词向量的词语倾向性判断词向量最早是由等人在年的论文相似度如果存在相似度大于则将与目标词相似度最高的基准词的倾向性赋予目标词并将目标词加入扩充词典若不存在与目标词相似度大于的词则将目标词视为中性词中提出的但一直到年之后才逐渐开始被人重视其基本思想是通过训练将每个词语映射成一个实数向量词向量之间的余弦距离表示词语之间的语义相似度词向量是语言模型训练的产物本文使用的基于句法树的句子情感倾向性分析本文的句子情感倾向性分析模型是基于句子的句法二叉树结构的利用词语之间的依赖关系和规则的方法将句子情感判断转化为基于树的符号计算年第期相若晨等基于词向量与句法树的中文句子情感分析句法树的构造句子情感分析模型本文采用目前开源中文句法分析器中比较具有代表性的对句子进行句法分析在本文的模型中句子中的每个词语对应为句法树的叶子结点由节的方法可以得到每个叶子结是由斯坦福大学自然语言处理小组开发点的倾向性根据节的句法树结构将相应的子结点组合成父亲结点结合规则的方法判断父亲结点的一个高度优化的概率上下文无关文法和词汇化依存分析器通过对句子进行句法分析能够得到词语之间的依赖关系借助所得到的二元依存关系采用自底向上的方法逐层构建句子的二叉树结构的倾向并自底向上不断迭代直至得到根结点的情感即为整个句子的情感倾向性图是本文模型的示例图句法树构造算法如下输入第一个词语压入栈中保存输入下一个词语压入栈中读取该句子的依存关系若栈顶相邻的个词语是依存对则将它们生成父结点父结点的序号更新为支配词的序号个子结点退栈压入栈中保存若此时栈中有词语转步骤没有转步骤若栈顶相邻的个词语不是依存对则转步骤当栈中压入最后一个父结点则将句法树输出如句子这家酒店环境还不错但是服务特别差图是句子的分词结果表是由句法分析得到的依存关系图是句子的句法树结构图基于句法树的句子情感分析模型在计算父节点情感标签时本文定义了针对情感极性转移问题的处理规则情感极性转移是指由于一些特殊的语言结构句子的整体情感与其中包含的词汇的情感极性不一致的现象情感极性转移现象是影响句子情感分析准图表例句的分词结果例句中词语的依存关系支配词从属词这家酒店这环境酒店不错环境不错还差但是差服务差特别不错差确性的重要原因如句子他并不是个好人好人是褒义情感色彩但句子整体却是贬义情感又如上述复句这家酒店环境还不错但是服务特别差前半句是褒义情感色彩后半句是贬义情感色彩而在复句中更强调转折词后的情感色彩所以该句子所表达的对酒店的整体评价是贬义的因此本文定义了如下规则集为了便于本文方法的表达和实现将词典中不同类型的词语用不同的符号进行标注单句情感词正面情感词标注为负面情感词标注为标注符号为中性词中性词不影响句子情感规则如果其中一个子结点符号为时那么父结点符号即为另一子结点的符号例程度词程度词在句中起加强或减弱情感的作用只能说明情感表达的程度并不改变句子情感极性程度词的符号为规则如果其中一个子结点符号为那么父图例句的句法二叉树结构结点符号即为另一子结点的符号例计算机否定词否定词是影响情感极性转移现象的主要因素之一当否定词出现在情感词前时会直接改变原来的情感极性否定词符号为规则如果情感词为褒义倾向则整体为贬义倾向如果情感词为贬义倾向则整体为褒义倾向即规则单句中可能会出现左右结点分别为极性相反的符号例如我讨厌喜欢这本书的人根据句子的主谓结构定义计算规则为父结点的符号取左结点的情感符号即复句转折词在复句中句子采用转折关系一般是为了突出强调转折连词后的内容即转折词后面才是说话人所要表达的真正情感虽然尽管等转折前接词符号为但是可是等转折后接词符号为规则当遇到转折后接词时保留符号至根结点处理取转折符号后面的情感符号例规则若句子中只有单一的转折前接词则根结点情感极性与转折前接词后的情感相反例实与现代从实验结果可以看出模型的准确率明显高于模型模型不考虑词语之间的先后顺序因此在处理中文时语义准确率相对于较低使用模型扩充词典中词语的情感极性准确率基本维持在训练维度为时准确率最高由此证明利用词向量的相似度判断词语的情感倾向以及扩充词典的方法是有效的参数设置本实验用来设置节中未知词语倾向判断方法中的相似度的阈值随机选取个词语并对其进行人工标注计算每个词语与基础词典中词语的相似度并排序对节的方法设置不同的阈值将实验结果与人工标注结果对比比较结果如表所示表不同阈值下词语倾向判断正确率阈值正确率由实验结果可以发现阈值设置为时正确率最高基于句法树的句子情感计算实验验年第期化实验数据语料来自谭松波整理的中文情感挖掘语料包括酒店电脑笔记本和书籍这个领域的评论文本共包含篇平衡语料每个领域中正面和负面评价类各篇筛选后选取个句子作为本文的测试语料其中每个领域正面和负面评价各句基于词向量方法的验证实验为了验证本文提出的基于词向量的词典扩充方法的有效性人工标注了个正负情感词作为基准词获取与基准词相似度最高的个词加入扩充词典将这个词的情感极性标注为该基准词的情感极性对扩充词典中词语的情感极性进行人工标注与根据词向量相似度得到的情感标注进行对比训练语料来源于版全网新闻数据语料大小为使用分词器对文本进行分词以空格隔开利用分好词的训练语料分别对模型和模型进行实验训练维度为实验结果如图所示评价指标本文方法的评价指标为准确率召回率和值判断正确的该类句子个数返回结果为该类的句子个数判断正确的该类句子个数标准结果中该类句子的个数实验结果及分析为了验证基于词向量词典扩充的作用和本文句子情感倾向性分析模型的有效性分别将本文方法与图实验结果对比传统的情感词典方法以及目前最先进的方法进行对比采用以下种方法在相同的测试集上进行实验传统的情感词典方法加入基于词向量的情感词典方法年第期相若晨等基于词向量与句法树的中文句子情感分析提出的向量空间语义组合模型本文基于词向量与句法树的方法实验结果如表所示表实验结果刘鲁刘志明基于机器学习的中文微博情感分类实证研究计算机工程与应用党蕾张蕾一种基于知网的中文句子情感倾向判别方实验结果分析相较于传统的情感词典的方法结合基于词向量的词典扩充的方法后准确率和召回率有所提高说明基于词向量判断未知新词情感倾向性的方法有利于提高句子情感倾向性分析的准确率本文方法的准确率召回率和值均高于其他种方法因为情感极性转移现象在中文句子中很常见而传统的情感词典方法和的模型都没有考虑该因素本文方法的准确率和召回率都在以上说明本文方法在句子情感倾向性分析任务中有较好的表现测试集是在个领域的语料中随机抽取的说明本文提出的情感倾向性分析方法不受领域限制结束语法计算机应用研究吴江唐常杰李太勇等基于语义规则的金融文本情感分析计算机应用冯时付永陈阳锋等基于依存句法的博文情感倾向分析研究计算机研究与发展肖红许少华基于句法分析和情感词典的网络舆情倾向性分析研究小型微型计算机系统王志涛於志文郭斌等基于词典和规则集的中文微博情感分析计算机工程与应用知网本文提出了基于词向量与句法树的句子情感倾向性分析方法该方法在情感词典的基础上利用词向量判断词语之间的语义相似性解决了未知新词的情感倾向性判断问题同时利用句法树结构结合语义规则判断句子的情感倾向性并通过实验验证本文方法具有较高的准确率和召回率但本文的方法只针对句子的褒贬倾向性分析下一步的工作还需要在情感倾向性分析任务的基础上进行情感强度分析以及情感多分类研究熊富林邓怡豪唐晓晟的核心架构及其应参考文献搜狗网全网新闻数据用南京师范大学学报工程技术版谭松波中文情感挖掘语料王素格杨安娜李德玉等基于支持向量机的文本倾向性分类研究中北大学学报自然科学版