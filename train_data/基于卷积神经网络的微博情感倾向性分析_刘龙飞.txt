第卷第期年月中文信息学报文章编号基于卷积神经网络的微博情感倾向性分析刘龙飞杨亮张绍武林鸿飞大连理工大学信息检索实验室辽宁大连摘要微博情感倾向性分析旨在发现用户对热点事件的观点态度由于微博噪声大新词多缩写频繁有自己的固定搭配上下文信息有限等原因微博情感倾向性分析是一项有挑战性的工作该文主要探讨利用卷积神经网络进行微博情感倾向性分析的可行性分别将字级别词向量和词级别词向量作为原始特征采用卷积神经网络来发现任务中的特征在任务的语料上进行了实验实验结果表明利用字级别词向量及词级别词向量的卷积神经网络分别取得了的准确率和的准确率由此可见对于中文微博语料而言利用卷积神经网络进行微博情感倾向性分析是有效的且使用字级别的词向量作为原始特征会好于使用词级别的词向量作为原始特征关键词深度学习情感倾向性分析卷积神经网络词向量中图分类号文献标识码兴趣引言目前已有研究所采用的方法大多数都基于词袋模型而这种模型无法捕获到很多有关情感倾向性随着社交网络的不断发展人们更愿意通过微分析的语言现象特征例如反法西斯联盟击溃了博博客社区来表达自己的观点发表对热点事件的法西斯和法西斯击溃了反法西斯联盟这两个词评论从而使通过微博博客影评以及产品评价等组拥有相同的词袋模型表示方法而前一个带有积来了解社交网络用户的情感倾向得到了学术界的广极的感情色彩后一个带有消极的感情色彩除此泛关注根据微博内容进行情感倾向性分析是一个之外还有很多研究者使用人工标注的数据情感词具有挑战性的任务近年来引发了学者极大的典及句法分析等虽然采用这些方法可以有效地提收稿日期定稿日期基金项目国家自然科学基金国家高科技计划资助项目辽宁省自然科学基金教育部留学回国人员科研启动基金和高等学校博士学科点专项科研基金中央高校基本科研业务费专项资金资助中文信息学报年高情感分析的准确性但由于需要较多的人工标注数本文与工作的不同之处在据从而限制了这些方法在其他领域以及跨语言的推于本文分别利用字级别向量和词级别向量进行实广验而没有学习词语的构造特征本文与工作的另一个不同之处在于卷积神经网络模型可以从大量未标注的文本中学习到先验知识避免依赖于具体任务的人工特征设计可以在一定程度上解决短文本上下文信息有限的问题要提取微博文本特征目前主要做法是对微博进行分词匹配情感词典选用其中的情感词或者情感的相关得分作为特征但是微博属于短文本范畴噪声大新词多缩写频繁有自己的固定搭配上下文信息有限对微博做分词歧义明显往往得到的是不好的切分例如我发现了一个高大上网站在该句中高大上网站如果使用传统分词技术会被切分为高大上网站或者高大上网站这样的切分无法体现句子的正确语义甚至后一种切分还将网站切分导致丢失评价对象为了解决上在利用卷积层学习句子特征时使用了大小单一的卷积核而不同大小的卷积核获取的特征是不同的本文参考了等人的工作利用多个不同大小的卷积核学习句子级别的特征向量然后对特征向量进行串接构造新的句子特征向量情感分析情感分析自从年由提出之后获得了很大程度的关注特别是在线评论的情感倾向性分析上获得了很大的发展由于不需要大量标注语料无监督情感分析方法一直受到许多研究者的青睐但同时效果也低于有监督的情感分析方法述问题本文引入字级别特征将单个字作为输入特的首次提出基于种子词非监督学习方法使用和两个种征通过多个拥有不同大小卷积核的并行卷积层学子词与未知词在搜索网页中的互信息来计算未知词习微博文本特征的情感极性并用以计算整个文本的情感极性后本文训练了一个包含多个并行卷积层的卷积神续的非监督情感分析方法大都是基于生成或已有的经网络不同卷积层拥有大小不同的卷积核本文情感词典或者相关资源进行情感分析罗毅等人分别将字级别特征和词级别特征作为原始特征进行通过构建二级情感词典对不同级别情感词作不同了实验利用字级别特征的卷积神经网络取得了增强使用获取文本特征利用构建的情感的准确率利用词级别特征的卷积神经网络词典进行微博情感倾向性分析情感词典的构建过取得了的准确率实验表明对于中文微程需要大量的人工标注在跨领域应用方面有很大博语料而言利用卷积神经网络进行微博情感倾向性分析是有效的且将字级别词向量作为原始特征的限制使用模型当较大时会导致特征维度太大而难以训练包含多个并行卷积层的卷会好于将词级别词向量作为原始特征积神经网络通过卷积和池化操作既充分利用了本文的结构如下第二章介绍了一些相关工作第三章详细介绍了本文使用的卷积神经网络结构第四章详细说明了本文的实验设定介绍了实验结果并对实验结果进行了详细的讨论第五章是文章的总结的特征又不会造成维度灾难卷积神经网络模型句子级别的表示和评分字级别特征以单个字作为句子的基本组成单位对单个字训练词向量相关工作词级别特征利用分词器对句子进行分词以词包含长度为的词作为句子的基本组成单位卷积神经网络对单个词训练词向量卷积神经网络利用卷积层可以学习局部特征在自然语言处理中模型在很多方面取中国足球加油词级别的句子组成得了很多非常好的成绩例如语法解析搜索词检为中国足球加油索句子建模及其他传统的自然语言工作给定包含个基本单位的句子本文接下来的工作是计算其句子级别的表示等人提出了模型两个卷积层分别学习词语的构造特征和句子的语义特征以中国足球加油为例字级别的句子组成为字级别句子的基本单位是单个的字词级别句刘龙飞等基于卷积神经网络的微博情感倾向性分析期子的基本单位是分词之后的词在计算句子级别的特征时会遇到两个主要的问题不同句子的长度不同重要的信息会出现在句子中的任意位置利用卷积层对句子建立模型计算句子级别的特征可以解决上面提到的两个问题通过卷积操作可以得到句子中每个基本单位字或者词语的局部特征然后对得到的局部特征进行最大化操作从而得到一个固定长度的句子特征向量在包含个基本单位的句子中卷积层对每个大小为的连续窗口进行矩阵向量操作本文假定向量是以句子中第个个基本单位的词基本单位为中心的前后各向量的串接其中为句子中基本单位向量化表示后向量的长度卷积层计算计算句子特征向量的第个元素的过程如式所示图基于卷积方法抽取句子级别特征其中是该卷积层的权重矩阵如图所示用该权重矩阵计算给定句子中每个基本卷积窗口的大小不同获取的局部信息也不同因此本文利用并行的多个卷积层学习不同单位字或词的窗口大小为的局部信息对句子中所有基本单位的窗口取最大值就抽取了一个在的信息每个卷积层经过最大池化操作后都会生成一个固定长度的句子特征向量本文将所窗口大小为的条件下长度为的句子特征向量有卷积层生成的句子特征向量进行串接得到一个图中窗口大小为新的句子特征向量包含多个不同窗口的并行卷积层的架构如图所示图通过基于不同窗口大小的卷积方法利用多个不同大小的卷积核抽取句子级别特征是模型需要学习的参数卷积单其中是由用户指定的超参数上下文窗口元的数量中文信息学报的大小是由用户指定的超参数表示最年用来学习窗口大小为的给定数似然函数进行训练给定一个句子参数集合为的模型对每个情感标如图所示本文在卷积层之后加入了签计算一个得分为了将这些得分转换为给定句子的情感标签和模型参数集的条件概层将作为激活函数通过加入层可率分布我们在所有签情感标签的得分进行大化操作图中句子的特征向量以加速随机梯度下降的收敛速度将所有窗口操作生成的句子特征向量串接后得到的新特征向量如下表示由上下文窗其中表示串接操作最后表示句子的全局特征的向量被传递最小化负似然本文使用随机梯度下降函数给包含两个全连接层的神经网络进行处理计算该句子属于每个情感标签的得分如式所示其中矩阵矩阵向量向量是模型需要学习的参数激活函数使用的正切函数隐对上述公式取对数口大小为的卷积核通过卷积核最大化操作之后得到的句子特征向量其中表示训练预料的一条句子表示该句子的情感标签实验藏层单元数目是有用户指定的超参数情感分析数据集模型训练本文采用任务微博数据集表条数据其中官方公布了该数据集共微博情感倾向性分析本质上是一个基于主题的文本分类问题将微博短文本做两类分类最终归纳到正面和负面两种情感类别中本文的模型是通过最小化训练集上的负对条微博的极性由于没有标准的训练集和测试集本文利用该条数据进行倍交叉验证利用数据集提供的条数据训练词向量表数据样例消极积极奥迪车质量值得信赖奥迪和人寿保险一样都是垃圾再不买了三星手机很好用比较人性化三星手机真垃圾电池一点也不给力关键时候手机自动关机儿子住院自付部分保险居然全给报销了这个保险上保险这玩意儿啊就是他忽悠你交上然后不想教得时候退回来所剩无几的的一点也不亏啊嘿嘿嘿的向量表示卷积神经网络字级别的词向量词向量在卷积神经网络模型中具有非常重要的本文以字作为句子的基本单位为每个字训练作用词向量在训练过程中可以获取句法和语义一个词向量在运行工具过程中本文设最近的一定出现次数超过五次的字会被加入字典中最终得些工作表明通过使用无监督学习得到的词向量可到了一个包含条目的字典对于没有出现在在本文的实验字典中的字符的词向量会被随机初始化训练过程信息这在情感分析中是至关重要的以极大地提高模型的准确率中利用工具进行无监督的词向量学习实现了和两种结构用于计算词语中的参数设置如表所示词级别的词向量本文首先利用分词工具对语料进行分词分词刘龙飞等基于卷积神经网络的微博情感倾向性分析期之后以词作为句子的基本单位为每个词训练一个词向量在运行工具过程中本文设定出现次数超过五次的词会被加入字典中最终得到了一个包含条目的字典对于没有出现在字典中的词语的词向量会被随机初始化训练过程中的参数设置如表所示表字级别和词级别可调参数的设置值可调参数词向量维度迭代次数算法选择参数如表所示表模型参数设置参数名词向量维度上下文窗口大小卷积单元数量上下文窗口大小利用训练出的词级别的词向量进行试验在实验过程中词向量保持不变只学习模型的其他参数利用训练出的词级别的词向量进行试验在实验过程中词向量会被微调同时学习模型的其他参数字级别词级别卷积单元数量上下文窗口大小卷积单元数量隐藏层单元数量和向量特征是特征利用分类向量特征是微调同时学习模型的其他参数练过程中采用更新规则对乱序的微批次样本中进行随机梯度下降模型的其他向量特征是特征利用分类将词级别的词向量进行随机初始化在实验过程中词向量会被本文对多个卷积神经网络模型进行了实验训本文对多个模型进行了实验只学习模型的其他参数超参数参数结果与讨论将词级别的词向量进行随机初始化在实验过程中词向量保持不变采样值的实验和特征利用分类上下文窗口利用训练出的字级别的词向量进行实验在实验过程中词向量保持不变只学习模型的其他参数利用训练出的字级别的词向量进行试验在实验过程中词向量会被微调同时学习模型的其他参数各个模型的实验结果如表所示表不同模型的准确率模型词袋向量作为输入利用线性核进行了微博情感倾向性分类本文对三种类型的词袋对比实验本文与传统的词袋模型进行了对比将模型进行了测试其中是传统的词袋向量或向量中的每一个元素表示特征而向量中的每一个元素表示或者特征其中的特征值使用方法计算并使用了进行通过比较和中文信息学报的准确率可以发现利用预训练的词向量作为原始输入进行情感倾向性分析的准确率要高于利用随机初始化的词向量作为原年表词向量相似度比较词语词语余弦相似度手机三星手机三星车险保险好的效果实验表明利用卷积神经网络模型进行车险保险自然语言处理时无监督方式预训练的词向量是十酸奶牛奶分重要的酸奶牛奶始输入进行的情感倾向性分析的准确率原因在于利用工具训练出的词向量包含了上下文语义信息因此在进行句子情感分析时可以得到更通过比较和和另一个原因在于传统的分词技术往往对微博我发现了一个高大上网站造成歧义的切分例如高大上网站如果使用传统分词技术会在该句中和的准确率可以发现在卷积神经被切分为高大上网站或者高大上网站这样网络的训练过程中对预训练的词向量进行微调可以将网站切分导致丢失评价对象而将字级别特征进一步提升模型的准确率实验表明在模型训练过程中对词向量进行微调可以让预训练的词向量更加作为输入通过并行的卷积层可以学习到不同的信息例如高大上高大上网站适应于专门的任务从而进一步提高准确率分词工具和分本文分别用通过比较和词工具进行分词得到了相近的实验结果和的切分无法体现句子的正确语义甚至后一种切分还通过比较和的准确率可以发现使用字级别词向量作为原始特的准确率可以发现在微博情感倾向性分析中卷积神经网络模型要优于征要好于使用词级别词向量作为原始特征实验表传统的词袋模型通过比较明对于中文语料而言使用字级别词向量作为原始和的准确率可以发现和特征让准确率特征会好于使用词级别词向量作为原始特征结合实验结果及分析原因主要在于字级别特有了明显提升而当较大时会造成维度灾难征的粒度比词级别的粒度小字级别词向量相比于导致模型难以训练而包含多个并行卷积层的卷积词级别词向量可以学习到更加具体的特征神经网络可以利用不同大小的卷积核学习不同表展示了利用工具训练的字级别词向量相加得到的词级别词向量相似度与直接用的信息通过池化操作降低维度从而使得模型的准确率得以提高工具训练得到的词级别词向量相似度之间的比较通过对比可以得出利用字级别词向量相总结加得到的词级别词向量之间的相似度要高于直接用工具训练得到的词级别词向量之间的相似度本文探讨了利用卷积神经网络进行微博情感倾向性分析的可行性并利用卷积神经网络模型取得但是也存在一些词语组合不存在这种情况例了优于传统词袋模型的准确率以此证明了卷积神如三元与牛奶之间的相似度为因为经网络在微博情感倾向性分析中的可行性本文利三元是一个牛奶品牌所以两者之间的相似度较用字级别词向量及词级别词向量的卷积神经网络分高而三元与牛奶之间的相似度要小别取得了的准确率和的准确率于出现这种情况的可能原因是由于语料中实验结果可见对于中文微博语料而言利用卷积神关于三元的内容不多以至于字级别的词向量没经网络进行微博情感倾向性分析是有效的且使用有较好地学到相关的信息字级别的词向量作为原始特征会好于使用词级别的刘龙飞等基于卷积神经网络的微博情感倾向性分析期词向量作为原始特征参考文献梁军柴玉梅原慧斌等基于深度学习的微博情感分析中文信息学报罗毅李利谭松波等基于中文微博语料的情感倾向性分析山东大学学报理学版刘龙飞硕士研究生主要研究领域为杨亮博士研究生主要研究领域为情机器学习情感计算感分析自然语言理解张绍武博士副教授主要研究领域为情感计算和搜索引擎