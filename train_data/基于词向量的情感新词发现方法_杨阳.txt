第卷第期山东大学学报理学版文章编号年月基于词向量的情感新词发现方法杨阳刘龙飞魏现辉林鸿飞大连理工大学信息检索研究室辽宁大连摘要词语级的情感倾向性分析一直是文本情感计算领域的热点研究方向如何自动识别情感新词并判断其情感倾向性已经成为当前亟待解决的问题首先用基于统计量的方法识别微博语料中的新词然后利用神经网络去训练语料中词语的词向量从语料自身挖掘出词与词之间的相关性最后提出了基于词向量的情感新词发现方法实验表明该方法可以有效应用于情感新词发现关键词情感词神经网络词向量中图分类号文献标志码引言随着互联网迅速的发展人人网微博微信等这些新型社交媒体逐渐改变着人们的生活习惯人们倾向于从微博上获取资讯新闻观点评论娱乐等信息每日的热门话题和各地的新闻事件往往会第一时间出现在微博中不知不觉间微博对网络舆情的传播施加了越来越重要的影响已经成为网络上新词创造和传播的主要平台之一每天都会有富含情感的新词出现这种新不仅包括真正意义上的新词如屌丝高富帅切糕傲娇等也包括大量带有错别字的新词拿尼玛这个新词来说其源于你妈这一词语但不仅限于尼玛这种表达在微博中常会发现尼马泥马等一些另类表达正因为微博这种言论自由口语化毫无约束不严肃表达的特性使其与传统的文本写作表达有很大的不同常会出现收稿日期网络出版时间网络出版地址国家高技术研究发展计划八六三计划项目教育部留学基金项目国家自然科学基金资助项目回国人员科研启动基金资助项目高等学校博士学科点专项科研基金资助项目作者简介杨阳男硕士研究生主要研究方向为情感计算通讯作者林鸿飞男教授主要研究方向为搜索引擎文本挖掘情感计算和自然语言处理山东大学学报理学版第卷缺失主语或含有错别字等情况给情感计算及观点挖掘带来了很大的困难而人工构建和维护一部完善的微博情感词典是非常不现实的针对以上情况本文提出了基于词向量的情感新词发现方法主要使用开源词向量工具训练微博语料中的词语向量以获得语料中词语与词语之间的潜在语义关系然后利用这些词向量之间的潜在联系自动识别和发现微博中最新用于情感表达的词汇相关工作目前针对于词语情感倾向性判断情感词识别已有大量的相关工作如朱嫣岚等人使用提供的语义相似度和语义场的计算功能计算词与词之间的相似度对词语的褒贬倾向性按照一定的计算法则进行赋值从而判别其褒贬倾向实验表明使用少量的基准词在常用的词语集合中也可以达到的准确率王素格等人认为采用目标词与基准词的相关性来确定目标词的情感倾向这种方法并没有考虑到目标词与同义词之间的关系于是提出了基于同义词的词汇情感倾向判别的方法不仅考虑了目标词语基准词的相关性而且也考虑了目标词的同义词与基准词的相关性唐都钰描述了领域自适应中文情感分析词典构建的三个步骤分别是种子词获取语义图的构建以及计算情感得分其中语义图的构建依赖于哈工大的同义词词林以上相关研究都使用外部语义资源来获取词与词之间的语义关系但对于情感新词发现而言词语本身为新词外部语义资源如果没有相应的更新与拓展很难去获取新词的语义信息这样就无法计算新词与其他词汇之间的相关度针对这种情况本文提出了利用神经网络训练出来的词向量来获取词与词之间的相关度从而判断其情感倾向性这种基于神经网络训练出来的词向量从语料自身挖掘词与词之间的相关性在一定程度上摆脱了对外部语义资源的依赖新词发现情感新词发现首先必须发现语料中的新词其次是判断新词的情感倾向性本文中提到的新词是指不在给定的旧词词典之内的词语所使用的语料为提供的大规模微博句子集合千万级规模其中并未有标注数据所以主要采取无监督的方法进行新词发现语料处理本文对大规模的微博语料进行了如下预处理按中文标点的逗号叹号句号分号后缀顿号对微博句子进行短句切分计算每个短句的前缀与后缀方便后续统计量的统计表是对保险资金进场这句短语提取的后缀与前缀由于部分分割短语字串相对较长本文在建后缀与前缀的过程中进行了字串长度的限定长度大于的字符串在建立后缀的过程中会被截尾在建立前缀的过程中会被去头表后缀与前缀的示例前缀保险资金进场保险资金进场险资金进场保险资金进资金进场保险资金金进场保险资进场保险场保统计量介绍在新词发现过程中主要参考词频左邻接熵右邻接熵互信息这个统计量来计算字符串的成词概率词频统计语料中长度本文中定义的为长度定义越长计算时间越长小于等于某个值的所有候选词串的频次左右邻接熵邻接熵是等提出的判断词串是否成词的一个很重要的统计量邻接熵统计量利用信息熵来衡量候选新词的左邻字符和右邻字符的不确定性不确定性越高表明候选新词的前后字符串越混乱越不稳定所以其成词的可能性就越高如肯德基这个词语在语料中肯德的左邻接熵会比较高因为肯德的左边会相邻很多不同的字符如吃肯德基去肯德基喜欢肯德基等而肯德的右边相邻的字符很少大部分都为基所以右邻接熵会比较低因此肯德无法成为一个词第期杨阳等基于词向量的情感新词发现方法语但肯德基的左右邻接熵都比较高所以其成词的可能性要高于肯德本文使用节中的字符串后缀信息统计计算备选字符的右邻接熵使用字符串的前缀信息统计计算备选字符的左邻接熵假设用字符和字符表示候选新词的左邻字符和右邻字符则的左邻接熵和右邻接熵的计算方法如下其中表示字符是备选词的左邻字符的概率表示字符是备选词的右邻字符的概率互信息互信息是新词发现中常用的统计量假设对于候选词语周杰伦我们想要知道周杰和伦这两个字符在语料中连接的紧密程度按照公式计算之后值越大代表两者之间的相关性越高两个字符串连接之后成词的可能性也就越高采用简单的归一化频率形式来估计概率其中分别表示字符在语料中出现的频次是集合中所有长度满足阈值本文中为小于等于的字符串总数阈值选取由于语料中未有标注数据如果采取监督学习的方法把个统计量作为特征来训练分类器会带来大量的人工标注工作所以本文采取了无监督的方法对每一个统计量设定了一个阈值一个备选字符串满足这个阈值就会被判断为一个词语如公式所示其中分别为词频互信息左邻接熵右邻接熵的阈值如表所示系统自动识别的新词按互信息排序值得注意的是由于只需要对最后结果进行排序所以本文对互信息的计算并没有进行公式中的对数运算表新词词语互信息词频左邻接熵右邻接熵桀骜蘆薈涅槃奮鬥討厭惺惺嚯嚯習慣聖誕结果分析通过阈值的选取本文将生成的词语进行了数量上的控制初步识别出个词语再通过与提供的原始词典进行对比筛选最终留下个新词对这个新词进行大体上的观测可以发现新词中包含了以下几类词语网络表情符号如等这些符号表情在微博中对于个人情感的表达有着很重要的作用命名实体如佟丽娅邹恒甫等各行业名人也有如泸州老窖奥迪肯德基麦当劳等品牌产品名网络用语如屌丝白富美高富帅尼玛等大量网络新词英文单词如等缩写词如等山东大学学报理学版第卷繁体词语如奮鬥聖誕煩惱等长词如和妈妈一起整形美容忽然好想吃很大程度上化妆很简单等不准确词语如了不少它采用给我来一我说等从上面列出的词语可以看出新词发现的效果还是比较不错的本文对识别的新词进行了次抽样随机抽取个词语手动人工标注评价成词平均准确率为如图所示图新词成词准确率对结果进行分析会发现诸如给我来一这类词语本身左邻接熵满足阈值由于右邻字符有碗个瓶箱桶等所以所计算的右邻接熵也会比较高达到阈值根据规则也会被误判为一个词语同样的道理诸如了不少这类词语左邻接熵也会比较高所以也会误判为是一个词语但为了在更大程度上保留新词阈值选取人为地调低误判在所难免词向量在自然语言处理中如果要使用机器学习的方法去解决一个问题第一步就是要找一种方法将特征符号数学化其中词语一般用词向量去表示本文所描述的词向量是指采用神经网络训练出来的词语向量其基本的思想是通过训练将语料中的词语映射到维实数向量这种词语的表示方式优于建立一个词库向量维度等于词表大小词语表示为对应维度为维向量不但包含了词语间的潜藏语义关系同时也避免了维数灾难本文采用开源词向量工具进行词向量的训练其中模型选择的是模型如图所示假设语料中有一组词语序列模型最大化的目标函数如公式所示是决定上下文窗口大小的常数越大训练时间会增加其中同时精确度也会提高本文窗口大小选择的是最终训练出的词语向量维度为维同时选择了方法去训练模型图中的模型维数灾难通常是指在涉及到向量的计算的问题中随着维数的增加计算量呈指数倍增长的一种现象第期杨阳等基于词向量的情感新词发现方法情感新词为了更多地发现和保留语料中的新词本文将所识别的个新词作为分词系统的自定义词典使用结巴分词系统对语料进行了分词处理这样可以弥补采用方法进行分词的过程中新词发现能力不足的问题对语料进行分词处理之后采用节介绍的方法训练词向量然后利用词语向量中所蕴含的语义关系挖掘情感新词倾向性判断本文采用词语相似度计算的方法使用大连理工大学情感词典本体中已经标记的情感词作为种子词语获取其维向量按公式计算语料中与其相似度大于的词语加入备选词词典然后通过节和节所描述的方法发现情感新词通过计算词向量相似度得到的与尼玛最相似的新词如表所示从结果中可以看出利用神经网络训练出来的词语向量包含了语料潜在的语义信息通过词语之间的相关度计算结果表明是有效的表语料中与尼玛最相近的词语词语相似度词语相似度泥马气死我了次奥劳资我勒个去你妹特么我操坑爹啊老纸坑爹呀权重递增法算法在使用种子词典寻找备选词的同时对词语进行倾向性的判断算法权重递增法输入大连理工大学已标注情感词作为种子词集合备选词集合输出情感新词及其情感倾向性步骤对于中的每个词如果为正面情感词初值设置为设置为若为负面情感词初值设置相反循环遍历中每个种子词选取语料中与相似度大于的词语若不在中设置将加入中待结束之后循环遍历中每个备选词计算与中每个种子的相似度同时更新直到循环结束比较与的大小设置阈值判定是正面还是负面情感词分类法从已标记的情感词中获取维词向量作为特征输入然后进行分类器的训练本文随机选取了大连理工大学情感本体中情感词进行训练其中正向情感词负向情感词中性词的比例为采用五倍交叉验证进行训练如图所示在参数训练的过程中当横坐标为纵坐标为的时候准确率达到最大为将节所得到的备选词集合中每个备选词的维向量作为输入用训练出的分类模型预测备选词的情感分类山东大学学报理学版第卷图参数训练中心向量法人工选取语料中的情感词语并标注其情感倾向性将标注为同一类的情感词对应词语向量各维度相加然后取平均从而计算出此类别情感词的中心向量如公式所示表示中心向量为类中的词向量表示类中词向量的个数然后通过此中心向量与语料中未标注词语的词向量进行相似度计算本文手动选取屌丝弱爆坑爹吐槽尼玛猥琐郁闷废柴闷骚打酱油忧桑艾玛重口味这个情感词作为负面情感词的代表所得结果如图所示以高兴开心快乐漂亮给力欢喜可爱满足作为正面情感词的代表所得结果如图所示图中与向量中心节点越近的节点表示其与中心向量相似度得分越高图与中心向量最相似词语结果分析采用节和的方法通过与发布的评测结果进行对比整体实验结果并不理想表主要原因有如下几点实验以大连理工大学情感词汇本体中的所有情感词作为种子词由于情感词汇本体中存在一些情感倾向性不明显的词汇同时情感本体中大部分词语都为常用的情感词所扩展出的备选词也多为常用情感词以及一些与情感词搭配较多的专有名词在一定程度上影响了实验的结果所扩展出的备选新词不太具有代表性由于节和的方法都采用了相同的备选新词所以导致情感词正确率第期杨阳等基于词向量的情感新词发现方法情感词召回率情感词值结果相同而针对于情感词极性的判断从结果中可以看出节的方法情感词极性正确率在情感词极性召回率在情感词极性值方面都要优于节的方法通过对所提供的标注答案进行分析部分标注与本文实验结果有偏差例如针对微博移动的服务态度很温馨让人有亲切的感觉价格也越来越优惠了评测答案中对其标注的情感新词为温馨针对微博鲁迅和卡夫看都是享受悖谬的高手评测答案中对其标注的情感新词为悖谬但是温馨和悖谬这两个词都在给定的旧词典当中不能定义为新词这也从一定程度上影响了本文方法的评测结果方法表评价结果虽然节和的方法并未达到评测的预期效果但是作为一种情感新词识别的新方法为情感新词发现以及在此基础上的文本情感分析提供了新的研究思路表示按相似度得分排序针对节的方法本文使用来评价此结果前个实验结果中负正面情感词的准确率由于评价标注过程中个人对词语的辨识能力会带来评价结果的偏差所以本实验分组人员去评价每组人最终取平均值负面情感词结果如表所示正面情感词结果如表所示评价组评价组评价组评价组评价组评价组平均值表负面情感词评价结果评价组评价组评价组评价组评价组评价组平均值表正面情感词评价结果可以看出评价组不同在结果的辨别上会有或多或少的差异但整体趋势是随着的增大无论是正面情感词还是负面情感词部分非相关词都会逐渐增加而准确率明显降低如图所示关于会随着增大而降低的原因分析如下从实验结果看随着的增加非相关词中不成词的词语如个屁啊可惜俺等也在增加从而降低了准确率从各组标注的结果中可以明显地看出正面情感词的非相关词数量要大于负面情感词的非相关词数量所以本文节所提出的中心向量法对负面情感词语的识别要优于正面情感词图情感词评价结果山东大学学报理学版第卷对于千万级别的微博语料而言主题的非单一性不同主题下词语用法的不同都会给词语向量的训练带来干扰也影响到了后续的相似度计算一些跨主题的专有名词如人名地名品牌名等随着的增大也会有所增长所以情感词的准确率降低结论本文所提出的方法是在词向量应用方面的一个初步尝试基于词向量的情感新词发现只需要利用语料本身信息进行词向量的训练无需外部语义资源比较容易实现同时从实验结果来看也有一定的实用价值文中所使用的种子词对结果影响比较严重所以如何准确挑选种子词语以及在实验中如何对各个主题下的微博进行情感新词的单独领域发现各个主题下的情感中心向量如何确定这是进一步研究的方向参考文献朱嫣岚闵锦周雅倩等基于的词汇语义倾向计算中文信息学报王素格李德玉魏英杰等基于同义词的词汇情感倾向判别方法中文信息学报唐都钰领域自适应的中文情感分析词典构建研究哈尔滨哈尔滨工业大学黄昌宁赵海中文分词十年回顾中文信息学报徐琳宏林鸿飞潘宇等情感词汇本体的构造情报学报编辑许力琴上接第页编辑许力琴